if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("WWWIGCommentLikeListsActions",["WWWIGCommentLikeListsActionTypes","WWWIGCommentLikeListsState","WWWIGPaginationUtils","WWWIGnullthrows"],(function(a,b,c,d,e,f,g){var h="5f0b1f6281e72053cbc07909c8d154ae",i=24,j=1;function a(){return d("WWWIGPaginationUtils").generatePaginationActionCreators({pageSize:i,pagesToPreload:j,getState:function(a,b){return a.commentLikeLists.get(b,d("WWWIGCommentLikeListsState").EMPTY_LISTS).pagination},queryId:h,queryParams:function(a){return{comment_id:a}},onUpdate:function(a,b,e){b=b&&c("WWWIGnullthrows")(b.comment).edge_liked_by;return{type:d("WWWIGCommentLikeListsActionTypes").COMMENT_LIKE_LISTS_REQUEST_UPDATED,fetch:a,commentId:e,count:b==null?void 0:b.count,users:((b==null?void 0:b.edges)||[]).map(function(a){return a.node}),pageInfo:b==null?void 0:b.page_info}},onError:function(a,b,c){return{type:d("WWWIGCommentLikeListsActionTypes").COMMENT_LIKE_LISTS__REQUEST_FAILED,fetch:b,commentId:c}}})}b=a();e=b;f=b.first;a=b.next;g._actionCreators=e;g.requestCommentLikes=f;g.requestNextCommentLikes=a}),98);
__d("WWWIGPostRemoveCommentsSelectors",["reselect"],(function(a,b,c,d,e,f,g){a=function(a){return a.postRemoveComments};b=d("reselect").createSelector(a,function(a){a=a.isVisible;return a});g.getPostRemoveCommentsIsVisible=b}),98);
__d("WWWIGThreadedCommentSelectors",["WWWIGPaginationUtils","WWWIGcreateSelectorWithArg","WWWIGnullthrows","immutable-v4-rc-9"],(function(a,b,c,d,e,f,g){function h(a){return!a.deleted&&!a.didReportAsSpam}a=c("WWWIGcreateSelectorWithArg")(function(a){return a.posts.byId},function(a){return a.comments.byId},function(a){return a.threadedComments.parentByPostId},function(a,b,e){return function(f){var g=e.get(f);f=a.get(f);if(!g||!f)return d("immutable-v4-rc-9").List();var i=g.commentIds;g=d("WWWIGPaginationUtils").getVisibleCount(g.pagination);f=f.hasRankedComments?0:i.count()-g;return i.map(function(a){return c("WWWIGnullthrows")(b.get(a))}).slice(f,f+g).filter(function(a){return h(a)})}});b=c("WWWIGcreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(e){e=c("WWWIGnullthrows")(b.get(e));var f=e.commentIds;e=e.pagination;f=f.map(function(b){return c("WWWIGnullthrows")(a.get(b))});e=f.count()-d("WWWIGPaginationUtils").getVisibleCount(e);var g=f.slice(e,f.count()).filter(function(a){return h(a)});f=f.slice(0,e).filter(function(a){return h(a)});e=f.map(function(a){return a.id});return{visibleChildComments:g,remainingCachedShowableChildCommentIds:e}}});e=c("WWWIGcreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(a){a=c("WWWIGnullthrows")(b.get(a));return a.count||0}});f=function(a,b){return!!((a=a.threadedComments.initialCommentsLoading)==null?void 0:a.get(b))};g.selectVisibleParentCommentsForPostId=a;g.selectChildCommentsForParentIdSplitByVisibility=b;g.getTotalChildCommentCountForParentId=e;g.getThreadedCommentsLoading=f}),98);
__d("WWWIGIgWellbeingRestrictManageCommentFalcoEvent",["WWWIGFalcoLogger"],(function(a,b,c,d,e,f,g){var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){var b=a.action,c=a.actorIgUserid,d=a.commentId,e=a.commentThreadId,f=a.parentMediaId,g=a.step;this.$1(function(){return{action:b,actor_ig_userid:parseInt(c),comment_id:d?parseInt(d):void 0,entrypoint:"comment",parent_comment_id:e===d?void 0:parseInt(e),parent_media_id:parseInt(f),step:g}})};a.$1=function(a){d("WWWIGFalcoLogger").FalcoLogger.log("ig_wellbeing_restrict_manage_comment",a(),{},h)};return a}();g["default"]=a}),98);
__d("WWWIGApproveCommentDialog",["fbt","IGCoreDialog","WWWIGCommentActions","WWWIGGenericStrings","WWWIGIgWellbeingRestrictManageCommentFalcoEvent","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=h._(/*FBT_CALL*/"Aprovar"/*FBT_CALL*/),k=h._(/*FBT_CALL*/"Aprovar esse coment\u00e1rio?"/*FBT_CALL*/),l=function(a){return h._(/*FBT_CALL*/"Somente voc\u00ea e {username} podem ver o coment\u00e1rio. Se voc\u00ea o aprovar, ele ficar\u00e1 vis\u00edvel para todos."/*FBT_CALL*/,[h._param("username",a)])};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props,b=a.commentId,e=a.commentOwnerId,f=a.commentThreadId;a=a.postId;c("WWWIGIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:e,commentId:b,commentThreadId:f,parentMediaId:a,step:"approval_page_approve_this_comment"});d.props.onApproveClick();d.props.onClose()},d.$2=function(){var a=d.props,b=a.commentId,e=a.commentOwnerId,f=a.commentThreadId;a=a.postId;c("WWWIGIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:e,commentId:b,commentThreadId:f,parentMediaId:a,step:"approval_page_cancel"});d.props.onClose()},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.render=function(){var a=this.props.commentOwnerUsername;return i.jsxs(d("IGCoreDialog").IGCoreDialog,{body:l(a),onModalClose:this.props.onClose,title:k,children:[i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1,children:j}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:this.$2,children:d("WWWIGGenericStrings").CANCEL_TEXT})]})};return b}(i.Component);function a(a,b){return{onApproveClick:function(){a(d("WWWIGCommentActions").approveRestrictedComment(b.commentId))}}}e=d("react-redux-wwwig").connect(null,a)(b);g.APPROVE_COMMENT_CTA=j;g.ApproveCommentDialog=e}),98);
__d("WWWIGPostComment",["cx","fbt","FastLink","WWWIGApproveCommentDialog","WWWIGCommentActions","WWWIGCommentLikeListsActions","WWWIGCommentOptionsDialog","WWWIGConfig","WWWIGDoubleTappable","WWWIGEngagementLogger","WWWIGIGCoreBox","WWWIGIGCoreButton","WWWIGIGCoreConstants","WWWIGIGCoreMoreHorizontalPanoOutlineIcon","WWWIGIGCoreSVGIconButton","WWWIGIGCoreText","WWWIGIGCoreVerifiedBadge","WWWIGIgWellbeingRestrictManageCommentFalcoEvent","WWWIGLikeButton","WWWIGLinkBuilder","WWWIGNavigationActions","WWWIGPendingCommentActions","WWWIGPostVariants","WWWIGTimestamp","WWWIGTruncatedText","WWWIGUA","WWWIGUserAvatarWithStories","WWWIGUserHoverCard","WWWIGUserText","WWWIGViewpointReact","WWWIGnullthrows","WWWIGpostSelectors","WWWIGuserSelectors","joinClasses","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){var j=d("react"),k=750,l=i._(/*FBT_CALL*/"Op\u00e7\u00f5es de coment\u00e1rios"/*FBT_CALL*/),m=i._(/*FBT_CALL*/"Excluir coment\u00e1rio"/*FBT_CALL*/),n=i._(/*FBT_CALL*/"Responder"/*FBT_CALL*/),o=i._(/*FBT_CALL*/"Conta restrita"/*FBT_CALL*/),p=i._(/*FBT_CALL*/"Ver coment\u00e1rio"/*FBT_CALL*/),q=i._(/*FBT_CALL*/"Excluir"/*FBT_CALL*/),r=function(a){var b=a.parentProps,e=b.commentOwnerId,f=b.commentOwnerUsername,g=b.isAuthorVerified,h=b.isCaption,i=b.isRestrictedPending,k=b.postOwnerIsUnpublished;b=b.showRichComment;a=i&&!a.parentState.showRestrictedContent;var l=h?"h2":"h3";if(a)return j.jsx(c("WWWIGIGCoreBox"),{marginBottom:1,children:j.jsx(c("WWWIGIGCoreText").Body,{color:"ig-tertiary-text",weight:"semibold",children:o})});else if(!h||!k)return j.jsxs(l,{className:"_9_ww"+(i===!0?" _9_wx":""),children:[j.jsx(c("WWWIGIGCoreBox"),{marginEnd:1,children:j.jsx(c("WWWIGUserHoverCard"),{display:"inline",triggerAnalyticsContext:"post_commenter",userId:e,children:j.jsx(c("WWWIGIGCoreButton"),{borderless:!0,color:"ig-secondary-button",href:d("WWWIGLinkBuilder").buildUserLink(c("WWWIGnullthrows")(f)),children:c("WWWIGnullthrows")(f)})})}),b&&g&&j.jsx(c("WWWIGIGCoreBox"),{marginEnd:1,children:j.jsx(c("WWWIGIGCoreVerifiedBadge"),{size:"small"})})]});else return null},s=function(a){a=a.parentProps;var b=a.captionCreatedAt,e=a.commentThreadId,f=a.disableTimestampNav,g=a.id,h=a.isCaption,i=a.isEdited,k=a.postShortcode;a=a.postedAt;h=j.jsx(c("WWWIGTimestamp"),{className:"_9_wy _a41t",value:h&&i&&b!=null?b:a});if(k&&g){i=e&&e!==g?d("WWWIGLinkBuilder").buildReplyPermalink(k,e,g,d("WWWIGUA").isMobile()):d("WWWIGLinkBuilder").buildCommentPermalink(k,g,d("WWWIGUA").isMobile());b=f===!0?function(a){return a.preventDefault()}:void 0;h=j.jsx(c("FastLink"),{className:"_9_wz",href:i,onClick:b,children:h})}return h};f=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={showApproveCommentDialog:!1,showCommentOptionsDialog:!1,showRestrictedContent:!1},e.$3=function(){e.setState({showCommentOptionsDialog:!0})},e.$4=function(){if(!d("WWWIGUA").isMobile()||!e.props.showRichComment||e.props.isCaption)return;e.$1=setTimeout(e.$3,k)},e.$2=function(){clearTimeout(e.$1)},e.$5=function(){e.setState({showCommentOptionsDialog:!1})},e.$6=function(){e.setState({showCommentOptionsDialog:!1}),e.props.onDeleteComment()},e.$7=function(){var a=e.props,b=a.id;a=a.onDeleteCommentClick;a&&a(c("WWWIGnullthrows")(b))},e.$8=function(a){var b=e.props,c=b.onLikeComment;b=b.onUnlikeComment;a?c():b()},e.$9=function(){var a=e.props,b=a.isRestrictedPending,c=a.likedByViewer;a=a.onLikeComment;!c&&!b&&a()},e.$10=function(){var a=e.props,b=a.code,f=a.fetchCommentLikes,g=a.id,h=a.loggedIn,i=a.onLikeCountClick,j=a.onLoggedOutIntentClick;a=a.onLoggedOutIntentClickLoginModal;if(h)i&&(f(),i(c("WWWIGnullthrows")(g)));else{h="post_comment_like_count";d("WWWIGUA").isDesktop()?a(d("WWWIGLinkBuilder").buildMediaLink(c("WWWIGnullthrows")(b)),h):j(h)}},e.$11=function(a){var b=e.props,f=b.analyticsContext,g=b.commentOwnerId,h=b.commentThreadId,i=b.id,j=b.isRestrictedPending,k=b.mediaType,l=b.postId,m=b.postOwnerId;b=b.viewerId;switch(a.state){case"entered":if(i!=null&&b!=null){d("WWWIGEngagementLogger").logCommentImpression({commentId:i,commentAuthorId:g,commentThreadId:h,containerModule:f,mediaId:l,mediaAuthorId:m,mediaType:k});j&&c("WWWIGIgWellbeingRestrictManageCommentFalcoEvent").log({action:"impression",actorIgUserid:g,commentId:i,commentThreadId:h,parentMediaId:l,step:"pending_comment"});return}}},e.$12=function(){var a=e.props,b=a.code,f=a.loggedIn,g=a.onLoggedOutIntentClick,h=a.onLoggedOutIntentClickLoginModal;a=a.onReplyClick;if(f)a();else{f="post_comment_reply";d("WWWIGUA").isDesktop()?h(d("WWWIGLinkBuilder").buildMediaLink(c("WWWIGnullthrows")(b)),f):g(f)}},e.$13=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("WWWIGIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:"pending_comment_see_hidden"});e.setState({showRestrictedContent:!0})},e.$14=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("WWWIGIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:"pending_comment_approve"});e.setState({showApproveCommentDialog:!0})},e.$15=function(){e.setState({showApproveCommentDialog:!1})},e.$16=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("WWWIGIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:e.state.showRestrictedContent?"pending_comment_delete":"pending_comment_delete_hidden"});e.$7()},e.$17=function(){var a=e.props,b=a.code,f=a.id,g=a.likeCount;a=a.loggedIn;if(!g)return null;var h=g.toLocaleString(),k=i._(/*FBT_CALL*/"{like count} curtida"/*FBT_CALL*/,[i._param("like count",h)]);h=i._(/*FBT_CALL*/"{like count} curtidas"/*FBT_CALL*/,[i._param("like count",h)]);k=g===1?k:h;return g>0&&(d("WWWIGUA").isDesktop()||!a?j.jsx("button",{className:"_9_wy",onClick:e.$10,children:j.jsx(c("WWWIGIGCoreText"),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:k})}):j.jsx(c("FastLink"),{className:"_9_wy",href:"/p/"+c("WWWIGnullthrows")(b)+"/c/"+c("WWWIGnullthrows")(f)+"/liked_by/",children:k}))},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentWillUnmount=function(){this.$2()};e.render=function(){var a=this,b=this.props,e=b.className,f=b.commentOwnerAvatar,g=b.commentOwnerId,h=b.commentOwnerUsername,k=b.commentThreadId,o=b.commentingDisabledForViewer,t=b.customPaddingStyle,u=b.hideUserAvatar,v=b.id,w=b.isCaption,x=b.isEdited,y=b.isPermalinkedComment,z=b.isRestrictedPending,A=b.likedByViewer,B=b.postId,C=b.postOwnerId,D=b.reducedAvatarMargin,E=b.showCommentOptionsInline,F=b.showRemoveIcon,G=b.showRichComment,H=b.variant;b=b.viewerId;var I=this.props.text.toString(),J=!w&&b&&(b===g||C===b),K=J&&F&&!G,L=!w&&!!b&&!K&&!z;F=d("WWWIGConfig").isNetzDGEligible()&&y;var M=F||G&&!d("WWWIGUA").isMobile()&&!w&&b!=null,N=H===d("WWWIGPostVariants").VARIANTS.feed?c("WWWIGTruncatedText"):c("WWWIGUserText"),O=!!w||!L&&!J,P=z&&!this.state.showRestrictedContent,Q=z&&this.state.showRestrictedContent,R=j.jsx("div",{className:E===!0?"_9_wy":"",children:j.jsx("div",{className:(E!==!0?"_9_w-":"")+(E===!0?" _9_w_":""),children:j.jsx(c("WWWIGIGCoreSVGIconButton"),{onClick:this.$3,children:j.jsx(c("WWWIGIGCoreBox"),{alignItems:"center",height:24,justifyContent:"center",width:24,children:j.jsx(c("WWWIGIGCoreMoreHorizontalPanoOutlineIcon"),{alt:l,color:"ig-secondary-text"})})})})});return j.jsx(d("WWWIGViewpointReact").Viewpoint,{action:this.$11,id:I.replace(" ","-"),children:function(b){return j.jsxs(d("WWWIGDoubleTappable").DoubleTappable,{onDoubleClick:a.$9,role:"button",children:[j.jsx("li",{className:c("joinClasses")((G?"_9_x0":"")+(t==="compact"?" _9_x1":"")+" _9_x2",e),onMouseDown:a.$4,onMouseUp:a.$2,onTouchEnd:a.$2,onTouchMove:a.$2,onTouchStart:a.$4,ref:b,role:"menuitem",children:j.jsxs("div",{className:"_9_x3",children:[j.jsxs("div",{className:(O?"_9_x4":"")+" _9_x5",children:[G&&!u&&j.jsx(c("WWWIGUserHoverCard"),{display:"block",triggerAnalyticsContext:"post_commenter_avatar",userId:g,children:j.jsx(c("WWWIGUserAvatarWithStories"),{className:"_9_x6"+(D===!0?" _9_x7":"")+(z===!0?" _9_wx":""),isLink:!0,profilePictureUrl:f,size:c("WWWIGIGCoreConstants").AVATAR_SIZES.small,storyEntrypoint:"post_comment",username:h})}),j.jsxs("div",{className:"_9_x8",children:[j.jsx(r,{parentProps:a.props,parentState:a.state}),!P&&j.jsx("div",{className:"_a6o-"+(z===!0?" _9_wx":""),children:j.jsx(N,{display:"inline",size:"body",value:I})}),G&&j.jsx(c("WWWIGIGCoreBox"),{marginBottom:1,marginTop:t==="compact"?2:4,children:j.jsxs(c("WWWIGIGCoreText").Footnote,{color:"ig-secondary-text",children:[w&&x&&j.jsxs(j.Fragment,{children:[i._(/*FBT_CALL*/"Editado"/*FBT_CALL*/),"\xa0\xb7\xa0"]}),j.jsx(s,{parentProps:a.props}),!w&&!z&&j.jsxs(j.Fragment,{children:[a.$17(),o!==!0&&j.jsx("button",{className:"_9_wy",onClick:a.$12,children:j.jsx(c("WWWIGIGCoreText"),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:n})}),M&&E===!0&&R]}),P&&j.jsx("button",{className:"_9_wy",onClick:a.$13,children:j.jsx(c("WWWIGIGCoreText"),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:p})}),Q&&j.jsx("button",{className:"_9_wy",onClick:a.$14,children:j.jsx(c("WWWIGIGCoreText"),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("WWWIGApproveCommentDialog").APPROVE_COMMENT_CTA})}),z&&j.jsx("button",{className:"_9_wy",onClick:a.$16,children:j.jsx(c("WWWIGIGCoreText"),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:q})})]})})]})]}),K&&j.jsx("button",{className:"_9_x9",onClick:a.$7,title:m,children:j.jsx(c("WWWIGIGCoreText"),{color:"ig-tertiary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:m})}),M&&!E&&R,L&&j.jsx(c("WWWIGLikeButton"),{className:"_9_xa",isLiked:!!A,large:!1,onChange:a.$8})]})}),a.state.showCommentOptionsDialog&&v&&j.jsx(c("WWWIGCommentOptionsDialog"),{canDeleteComment:!!J,commentId:v,commentOwnerAvatar:f,commentOwnerId:g,commentOwnerUsername:h,mediaOwnerId:C,onClose:a.$5,onDelete:a.$6}),a.state.showApproveCommentDialog&&v&&j.jsx(d("WWWIGApproveCommentDialog").ApproveCommentDialog,{commentId:v,commentOwnerId:g,commentOwnerUsername:h,commentThreadId:k,onClose:a.$15,postId:B})]})}})};return b}(j.PureComponent);f.defaultProps={showRichComment:!1};function a(a,b){var e=b.commentOwnerId,f=b.postId;b=b.postOwnerId;e=d("WWWIGuserSelectors").getUserById(a,e);f=d("WWWIGpostSelectors").getPostOrNullById(a,f);return{commentOwnerAvatar:c("WWWIGnullthrows")(e.profilePictureUrl),commentOwnerId:c("WWWIGnullthrows")(e.id),commentOwnerUsername:c("WWWIGnullthrows")(e.username),postOwnerIsUnpublished:d("WWWIGuserSelectors").getUserById(a,b).isUnpublished,postShortcode:f&&f.code||null,viewerId:a.users.viewerId}}function b(a,b){var e={commentAuthorId:b.commentOwnerId,commentId:b.id,containerModule:b.analyticsContext,mediaAuthorId:b.postOwnerId,mediaId:b.id,mediaType:b.mediaType};return{fetchCommentLikes:function(){return a(d("WWWIGCommentLikeListsActions").requestCommentLikes(c("WWWIGnullthrows")(b.id)))},onDeleteComment:function(){return a(d("WWWIGCommentActions").deleteComment(b.postId,b.id||""))},onLikeComment:function(b){return a(d("WWWIGCommentActions").likeComment(babelHelpers["extends"]({},e,{userId:b||""})))},onLoggedOutIntentClick:function(b){a(d("WWWIGNavigationActions").openLoggedOutIntentDialog(b))},onLoggedOutIntentClickLoginModal:function(b,c,e){var f=d("WWWIGUA").isDesktop()||d("WWWIGConfig").isNetzDGEligible()?"feature_wall":"content_wall";a(d("WWWIGNavigationActions").openLoginModal(f,b,c,e,!0,b))},onReplyClick:function(e){return a(d("WWWIGPendingCommentActions").changePendingComment(b.postId,"@"+(e||"")+" ",c("WWWIGnullthrows")(b.commentThreadId),b.commentOwnerId,e))},onUnlikeComment:function(b){return a(d("WWWIGCommentActions").unlikeComment(babelHelpers["extends"]({},e,{userId:b||""})))}}}function e(a,b,c){return babelHelpers["extends"]({},a,b,c,{onLikeComment:function(){return b.onLikeComment(a.viewerId)},onReplyClick:function(){return b.onReplyClick(a.commentOwnerUsername)},onUnlikeComment:function(){return b.onUnlikeComment(a.viewerId)}})}h=d("react-redux-wwwig").connect(a,b,e)(f);g["default"]=h}),98);
__d("WWWIGCommentThread",["cx","fbt","WWWIGIGCoreBox","WWWIGIGCoreButton","WWWIGIGCoreSpinner","WWWIGInteractionsLogger","WWWIGPaginationUtils","WWWIGPostComment","WWWIGPostVariants","WWWIGQEHelper","WWWIGThreadedCommentActions","WWWIGThreadedCommentSelectors","WWWIGcommentReducer","WWWIGnullthrows","qex","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){var j=d("react"),k=function(a){var b=a.childComment,e=a.disableTimestampNav;a=a.parentProps;var f=a.analyticsContext,g=a.code,h=a.commentingDisabledForViewer,i=a.customPaddingStyle,k=a.hideUserAvatar,l=a.loggedIn,m=a.onDeleteCommentClick,n=a.onLikeCountClick,o=a.onLikeModalClose,p=a.parentComment,q=a.postId,r=a.postOwnerId,s=a.reducedAvatarMargin,t=a.showCommentOptionsInline;a=a.showRemoveIcon;return j.jsx(c("WWWIGPostComment"),{analyticsContext:f,className:"_9_p0"+(i==="compact"?" _9_p1":""),code:g,commentingDisabledForViewer:h,commentOwnerId:b.userId,commentThreadId:p.id,customPaddingStyle:i,disableTimestampNav:e,hideUserAvatar:!!k,id:b.id,isAuthorVerified:b.isAuthorVerified,isRestrictedPending:b.isRestrictedPending,likeCount:b.likeCount,likedByViewer:b.likedByViewer,loggedIn:l,onDeleteCommentClick:m,onLikeCountClick:n,onLikeModalClose:o,postedAt:b.postedAt,postId:q,postOwnerId:r,reducedAvatarMargin:s,showCommentOptionsInline:t,showRemoveIcon:a,showRichComment:!0,text:b.text,variant:d("WWWIGPostVariants").VARIANTS.flexible},b.id)};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={hasPermalinkedReplyBeenHidden:!1},c.$3=function(a){var b=c.props,e=b.analyticsContext,f=b.childCommentsCacheCanShowMoreWithoutFetch,g=b.childCommentsIsFetching,h=b.hideReplies,i=b.loadChildComments,j=b.loadChildCommentsV2,k=b.onHidePermalinkReply,l=b.parentComment,m=l.id;l=l.userId;var n=b.permalinkedReply,o=b.postId,p=b.postOwnerId;b=b.showReplies;if(g)return;else a?(h(m),d("WWWIGInteractionsLogger").logInteractionAction({eventName:"instagram_child_comments_collapse",commentAuthorId:l,commentId:m,containerModule:e,mediaAuthorId:p,mediaId:o}),n!=null&&(k!=null&&k(),c.setState({hasPermalinkedReplyBeenHidden:!0}))):f?b(m):d("WWWIGQEHelper").postUsesNativeEndpoint()?j(o,m):i(m)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a,b){(a.parentComment.id!==this.props.parentComment.id||a.permalinkedReplyId!==this.props.permalinkedReplyId)&&this.setState({hasPermalinkedReplyBeenHidden:!1})};e.$1=function(){var a=this.props,b=a.childCommentsCacheCanShowMoreWithoutFetch,c=a.childCommentsCanFetchMorePagination,d=a.childCommentsHasNextPage,e=a.permalinkedReply;a=a.remainingCachedShowableChildCommentIds;return e!=null&&d===!0&&b===!0&&c!==!0&&a.count()===1&&a.get(0)===e.id};e.$2=function(a){var b=this.props.childCommentsHasNextPage;return b!==!0||a&&this.$1()};e.$4=function(a,b){var d=this,e=this.props,f=e.childCommentsIsFetching,g=e.customPaddingStyle,h=e.replyPagerNodeRef;e=e.totalChildCommentCount;var k=this.$2(b),l=b?1:0;l=a+l;e=e-l;k&&!f?l=i._(/*FBT_CALL*/"Ocultar respostas"/*FBT_CALL*/):e<=0?l=i._(/*FBT_CALL*/"Ver respostas"/*FBT_CALL*/):l=i._(/*FBT_CALL*/"Ver respostas ({hidden replies})"/*FBT_CALL*/,[i._param("hidden replies",e)]);return j.jsx("li",{className:"_9_p2",ref:h,children:j.jsxs(c("WWWIGIGCoreBox"),{direction:"row",marginBottom:a>0&&g!=="compact"?4:0,marginTop:b?2:0,children:[j.jsxs(c("WWWIGIGCoreButton"),{borderless:!0,onClick:function(){return d.$3(k)},children:[j.jsx("div",{className:"_9_p3"}),j.jsx("span",{className:"_9_p4",children:l})]}),f&&j.jsx("div",{className:"_9_p5",children:j.jsx(c("WWWIGIGCoreSpinner"),{size:"small"})})]})})};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.code,g=b.commentingDisabledForViewer,h=b.customIndentationPadding,i=b.customPaddingStyle,l=b.hideUserAvatar,m=b.innerRef,n=b.isPermalinkedComment,o=b.loggedIn,p=b.onDeleteCommentClick,q=b.onLikeCountClick,r=b.onLikeModalClose,s=b.parentComment,t=b.permalinkedReply,u=b.permalinkedReplyAnimating,v=b.permalinkedReplyId,w=b.permalinkedReplyNodeRef,x=b.postId,y=b.postOwnerId,z=b.reducedAvatarMargin,A=b.showCommentOptionsInline,B=b.showRemoveIcon,C=b.totalChildCommentCount;b=b.visibleChildComments;var D=this.state.hasPermalinkedReplyBeenHidden,E=null;t&&!(D&&b.count()===0)&&(E=j.jsx("div",{className:"_9_p6"+(u===!0&&!D?" _9_bx":""),ref:w,children:j.jsx(k,{childComment:t,disableTimestampNav:!0,parentProps:this.props})}));u=b.map(function(b,d){return E&&c("WWWIGnullthrows")(t).id===b.id?null:j.jsx(k,{childComment:b,parentProps:a.props},d)}).filter(function(a){return a!=null});D=this.$4(u.count(),E!=null);w=h!=null?{margin:"12px 0 0 "+h+"px",width:"calc(100% - "+h+"px)"}:void 0;return j.jsxs("ul",{className:"_9_p7"+(i==="compact"?" _9_p8":""),ref:m,children:[j.jsx(c("WWWIGPostComment"),{analyticsContext:e,code:f,commentingDisabledForViewer:g,commentOwnerId:s.userId,commentThreadId:s.id,customPaddingStyle:i,disableTimestampNav:n===!0&&v==null,hideUserAvatar:!!l,id:s.id,isAuthorVerified:s.isAuthorVerified,isPermalinkedComment:n,isRestrictedPending:s.isRestrictedPending,likeCount:s.likeCount,likedByViewer:s.likedByViewer,loggedIn:o,onDeleteCommentClick:p,onLikeCountClick:q,onLikeModalClose:r,postedAt:s.postedAt,postId:x,postOwnerId:y,reducedAvatarMargin:z,showCommentOptionsInline:A,showRemoveIcon:B,showRichComment:!0,text:s.text,variant:d("WWWIGPostVariants").VARIANTS.flexible}),C!==0&&j.jsx("li",{children:j.jsxs("ul",{className:"_9_p9",style:w,children:[E,D,u]})})]})};return b}(j.Component);function a(a,b){var c=b.parentComment;b=b.permalinkedReplyId;var e=d("WWWIGThreadedCommentSelectors").selectChildCommentsForParentIdSplitByVisibility(a,c.id),f=e.remainingCachedShowableChildCommentIds;e=e.visibleChildComments;var g=d("WWWIGThreadedCommentSelectors").getTotalChildCommentCountForParentId(a,c.id);c=a.threadedComments.childByParentId.get(c.id,d("WWWIGcommentReducer").EMPTY_POST_COMMENTS_STATE);c=c.pagination;var h=null;b!=null&&b!==""&&(h=a.comments.byId.get(b));return{childCommentsCacheCanShowMoreWithoutFetch:d("WWWIGPaginationUtils").getVisibleCount(c)<d("WWWIGPaginationUtils").getLoadedCount(c),childCommentsCanFetchMorePagination:d("WWWIGPaginationUtils").canFetchMorePagination(c),childCommentsHasNextPage:d("WWWIGPaginationUtils").hasNextPage(c),childCommentsIsFetching:d("WWWIGPaginationUtils").isFetching(c),permalinkedReply:h,remainingCachedShowableChildCommentIds:f,totalChildCommentCount:g||0,visibleChildComments:e}}e={hideReplies:d("WWWIGThreadedCommentActions").hideChildComments,loadChildComments:d("WWWIGThreadedCommentActions").requestNextChildCommentPage,loadChildCommentsV2:d("WWWIGThreadedCommentActions").requestNextChildCommentPageV2,showReplies:c("qex")._("1897")===!0?d("WWWIGThreadedCommentActions").showChildCommentsV2:d("WWWIGThreadedCommentActions").showChildComments};f=d("react-redux-wwwig").connect(a,e)(b);g["default"]=f}),98);
__d("WWWIGDeleteCommentModal",["fbt","IGCoreDialog","WWWIGCommentActions","WWWIGGenericStrings","WWWIGLogger","gkx","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){var i=d("react");function a(a){var b=a.analyticsContext,e=a.commentId,f=a.onClose,g=a.postId,j=d("react-redux-wwwig").useDispatch();a=function(a){c("gkx")("2641")||d("WWWIGLogger").logAction_DEPRECATED("commentDelete",{source:b}),j(d("WWWIGCommentActions").deleteComment(g,e)),f(a)};return i.jsxs(d("IGCoreDialog").IGCoreDialog,{onModalClose:f,children:[i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:h._(/*FBT_CALL*/"Excluir coment\u00e1rio"/*FBT_CALL*/)}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:f,children:d("WWWIGGenericStrings").CANCEL_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WWWIGNoCommentsPlaceholder",["fbt","WWWIGIGCoreBox","WWWIGIGCoreText","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");function a(a){a=h._(/*FBT_CALL*/"No comments yet."/*FBT_CALL*/);var b=h._(/*FBT_CALL*/"Start the conversation."/*FBT_CALL*/);return i.jsxs(c("WWWIGIGCoreBox"),{alignItems:"center",height:"100%",justifyContent:"center",children:[i.jsx(c("WWWIGIGCoreBox"),{marginBottom:2,children:i.jsx(c("WWWIGIGCoreText").Headline2,{weight:"semibold",children:a})}),i.jsx(c("WWWIGIGCoreBox"),{marginTop:2,children:i.jsx(c("WWWIGIGCoreText").Body,{weight:"light",children:b})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WWWIGPreviewComments",["cx","fbt","WWWIGBatchDOM","WWWIGCommentActionTypes","WWWIGCommentActions","WWWIGConsumerBigNumber","WWWIGIGCoreButton","WWWIGIGCoreSpinner","WWWIGInteractionsLogger","WWWIGLinkBuilder","WWWIGNavigationActions","WWWIGPostComment","WWWIGPostVariants","WWWIGUA","WWWIGcommentSelectors","WWWIGpostSelectors","browserHistory","joinClasses","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){var j=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$2=function(a){var b=c.props,e=b.analyticsContext,f=b.code,g=b.id,h=b.loadMore,i=b.loggedIn,j=b.mediaType,k=b.onLoggedOutIntentClick,l=b.ownerId;b=b.variant;var m=d("WWWIGUA").isMobile();a.preventDefault();if(b===d("WWWIGPostVariants").VARIANTS.feed||m){a=d("WWWIGLinkBuilder").buildMediaCommentsLink(f,m);i?(d("browserHistory").browserHistory.push(a),d("WWWIGInteractionsLogger").logInteractionAction({containerModule:e,eventName:"instagram_organic_comment_view_all",mediaAuthorId:l,mediaId:g,mediaType:j})):k("post_comment_view_all")}else h(g,f),d("WWWIGInteractionsLogger").logInteractionAction({containerModule:e,eventName:"instagram_organic_comment_view_more",mediaAuthorId:l,mediaId:g,mediaType:j})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a,b,c){var e=this,f=a.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,g=this.$1;if(!g)return;d("WWWIGBatchDOM").measure(function(){var b=g.scrollTop;f?b=g.scrollHeight:c!=null?b=g.scrollHeight-c:e.props.id!==a.id&&(b=0);d("WWWIGBatchDOM").mutate(function(){g.scrollTop=b})})};e.getSnapshotBeforeUpdate=function(a){var b=a.comments,c=this.props.comments;if(a.id===this.props.id&&c&&b&&c.count()>b.count()){a=this.$1;if(a)return a.scrollHeight-a.scrollTop}return null};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.captionAndTitle,g=b.captionIsEdited,h=b.className,i=b.commentsAreStacked,k=b.commentsDisabled,l=b.commentsHasNextPage,m=b.commentsTotalCount,n=b.handleDeleteCommentClick,o=b.id,p=b.loggedIn,q=b.mediaType,r=b.ownerId,s=b.postedAt,t=b.previewComments,u=b.showIGTVCaption,v=b.showRemoveCommentIcons,w=b.variant;b=k!==!0&&(l===!0||t!=null&&t.length<m);if((f==null||f==="")&&m===0&&!b)return null;l=t;return j.jsx("div",{className:c("joinClasses")("_9_rb"+(!d("WWWIGUA").isMobile()&&w===d("WWWIGPostVariants").VARIANTS.flexible&&!i?" _9_rc":""),h),ref:function(b){return a.$1=b},children:j.jsxs("ul",{className:"_9_rd",children:[f!=null&&f!==""&&j.jsx(c("WWWIGPostComment"),{analyticsContext:e,commentOwnerId:r,isCaption:!0,isEdited:!!g,isRestrictedPending:!1,loggedIn:p,mediaType:q,postedAt:s,postId:o,postOwnerId:r,showIGTVCaption:u,showRemoveIcon:!1,text:f,variant:w},"captionAndTitle"),b&&this.renderLoadMoreCommentsLink(),k!==!0&&l&&l.map(function(a){return j.jsx(c("WWWIGPostComment"),{analyticsContext:e,commentOwnerId:a.userId,id:a.id,isAuthorVerified:a.isAuthorVerified,isRestrictedPending:a.isRestrictedPending,likedByViewer:a.likedByViewer,loggedIn:p,mediaType:q,onDeleteCommentClick:n,postedAt:a.postedAt,postId:o,postOwnerId:r,showRemoveIcon:v,text:a.text,variant:w},a.id)})]})})};e.renderLoadMoreCommentsLink=function(){var a=this.props,b=a.comments,e=a.commentsIsFetching,f=a.commentsTotalCount;a=a.variant;var g=i._(/*FBT_CALL*/"Carregar mais coment\u00e1rios"/*FBT_CALL*/);b&&b.count()+d("WWWIGCommentActionTypes").PAGE_SIZE>=f||a===d("WWWIGPostVariants").VARIANTS.feed||d("WWWIGUA").isMobile()?b=i._(/*FBT_CALL*/"Ver todos os {count} coment\u00e1rios"/*FBT_CALL*/,[i._param("count",j.jsx(c("WWWIGConsumerBigNumber"),{value:f}))]):b=g;return j.jsxs("li",{className:"_9_re",children:[j.jsx(c("WWWIGIGCoreButton"),{borderless:!0,dangerouslySetClassName:{__className:"_9_rf"},disabled:e,onClick:this.$2,children:b}),e&&j.jsx("div",{className:"_9_rg",children:j.jsx(c("WWWIGIGCoreSpinner"),{position:"static",size:"small"})})]})};return b}(j.PureComponent);function a(a,b){var c=d("WWWIGcommentSelectors").getPreviewCommentsForPostId(a,b.id);b=d("WWWIGpostSelectors").getNumCommentsForPostId(a,b.id);var e=a.navigation.pageIdentifier||"";return{analyticsContext:e,commentSaveIsInFlight:!1,commentsHasNextPage:!1,commentsIsFetching:!1,commentsTotalCount:b,previewComments:c,viewportWidth:a.displayProperties.viewportWidth}}e={onLoggedOutIntentClick:d("WWWIGNavigationActions").openLoggedOutIntentDialog,loadMore:d("WWWIGCommentActions").requestNextCommentPage};f=d("react-redux-wwwig").connect(a,e)(b);g["default"]=f}),98);
__d("WWWIGIGCoreCircleAddPanoOutlineIcon",["WWWIGIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){return h.jsxs(c("WWWIGIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.001",x2:"17.001",y1:"12.005",y2:"12.005"}),h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.001",x2:"12.001",y1:"7.005",y2:"17.005"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("WWWIGThreadedCommentsLoadMoreButton",["fbt","WWWIGIGCoreBox","WWWIGIGCoreCircleAddPanoOutlineIcon","WWWIGIGCoreSVGIconButton","WWWIGIGCoreSpinner","WWWIGUA","react"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=h._(/*FBT_CALL*/"Carregar mais coment\u00e1rios"/*FBT_CALL*/);function a(a){var b=function(b){var c=a.handleLoadMoreCommentsClick,e=a.loggedIn,f=a.onLoggedOutIntentClickLoginModal,g=a.url;b.preventDefault();!e&&d("WWWIGUA").isDesktop()?f(g,"post_comment_view_all"):c(g)};return i.jsxs(c("WWWIGIGCoreBox"),{justifyContent:"center",marginBottom:a.marginBottom,marginTop:a.marginTop,minHeight:40,position:"relative",children:[!a.commentsIsFetching&&i.jsx(c("WWWIGIGCoreSVGIconButton"),{onClick:function(a){return b(a)},children:i.jsx(c("WWWIGIGCoreCircleAddPanoOutlineIcon"),{alt:j})}),a.commentsIsFetching&&i.jsx(c("WWWIGIGCoreSpinner"),{position:"absolute",size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WWWIGThreadedComments",["cx","WWWIGBatchDOM","WWWIGCommentThread","WWWIGConfig","WWWIGGenericVirtualFeed","WWWIGIGCoreBox","WWWIGIGCoreSpinner","WWWIGInteractionsLogger","WWWIGLinkBuilder","WWWIGNavigationActions","WWWIGNoCommentsPlaceholder","WWWIGPageTimings","WWWIGPaginationUtils","WWWIGPendingCommentState","WWWIGPostComment","WWWIGPostVariants","WWWIGQEHelper","WWWIGSizeCache","WWWIGThreadedCommentActions","WWWIGThreadedCommentSelectors","WWWIGThreadedCommentsLoadMoreButton","WWWIGUA","WWWIGcommentReducer","WWWIGnullthrows","WWWIGpostModalHelpers","WWWIGuserSelectors","gkx","qex","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=12,k=1,l=6,m=1.5;function n(a,b){var c=b.getBoundingClientRect().top;c=c-b.scrollTop;b=a.getBoundingClientRect().top;return b-c}var o=function(a){var b=a.innerRef,d=a.isPermalinkedComment,e=a.onHidePermalinkReply,f=a.parentComment,g=a.parentProps,h=a.parentState,j=a.permalinkedReplyId,k=a.permalinkedReplyNodeRef;a=a.replyPagerNodeRef;var l=g.analyticsContext,m=g.code,n=g.commentingDisabledForViewer,o=g.customIndentationPadding,p=g.customPaddingStyle,q=g.handleDeleteCommentClick,r=g.hideUserAvatar,s=g.id,t=g.isDeletingComments,u=g.loggedIn,v=g.onLikeCountClick,w=g.onLikeModalClose,x=g.ownerId,y=g.reducedAvatarMargin;g=g.showCommentOptionsInline;h=h.commentPermalinkAnimEnabled;return i.jsx(c("WWWIGCommentThread"),{analyticsContext:l,code:m,commentingDisabledForViewer:n,customIndentationPadding:o,customPaddingStyle:p,hideUserAvatar:r,innerRef:b,isPermalinkedComment:d,loggedIn:u,onDeleteCommentClick:q,onHidePermalinkReply:e,onLikeCountClick:v,onLikeModalClose:w,parentComment:f,permalinkedReplyAnimating:h,permalinkedReplyId:j,permalinkedReplyNodeRef:k,postId:s,postOwnerId:x,reducedAvatarMargin:y,replyPagerNodeRef:a,showCommentOptionsInline:g,showRemoveIcon:t})};e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$2=i.createRef(),e.$3=i.createRef(),e.$4=i.createRef(),e.$5=[],e.state={isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!1,replyPermalinkLastHideTime:null},e.$13=function(a){a=e.props;var b=a.addLoadCount,f=a.analyticsContext,g=a.code,h=a.hasRankedComments,i=a.id,j=a.loadMore,k=a.loggedIn,l=a.mediaType,m=a.numTimesLoadComment,n=a.onClickCommentLoaded;a=a.ownerId;!k&&c("qex")._("1908")===!0&&m>=c("WWWIGnullthrows")(c("qex")._("1909"))&&!c("gkx")("4815")?n(g):(j(i,h,g),d("WWWIGInteractionsLogger").logInteractionAction({containerModule:f,eventName:"instagram_child_comments_load_more",mediaAuthorId:a,mediaId:i,mediaType:l}));b()},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.$6=function(){return this.$2.current||null};e.$7=function(){return this.$3.current||null};e.$8=function(){return this.$4.current||null};e.$9=function(a,b,c,e){var f=this;this.setState({isAutoscrollingCommentPermalink:!0,commentPermalinkAnimEnabled:!1});d("WWWIGBatchDOM").measure(function(){var g,h=n(b,a);if(c){var i=n(c,a),j=c.getBoundingClientRect().height,k=a.getBoundingClientRect().height;k=Math.max(k-j,0);g=Math.max(h,i-k)}else g=h;d("WWWIGBatchDOM").mutate(function(){a.scrollTop=g;var b=function(){f.setState({isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!0})};e?d("WWWIGPageTimings").onPageTimingsAvailable(function(){b()}):b()})})};e.componentDidMount=function(){var a=this.$1;if(!a)return;var b=this.$6();if(b)this.$9(a,b,this.$7(),!0);else if(!this.props.hasRankedComments){if(d("WWWIGUA").isDesktop())return;a.scrollTop=a.scrollHeight}};e.componentDidUpdate=function(a,b,c){var d=this.$1;if(!d)return;var e=this.$6();if(e)if(this.state.isAutoscrollingCommentPermalink)return;else if(this.props.permalinkedCommentId!==a.permalinkedCommentId||this.props.permalinkedReplyId!==a.permalinkedReplyId||this.props.permalinkedComment!==a.permalinkedComment){this.$9(d,e,this.$7(),!1);return}this.$10(a,b,c,d,e)};e.$10=function(a,b,c,e,f){var g=this,h=a.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight;c=c||{};var i=c.newCommentCachedOffset,j=a.id===this.props.id&&a.permalinkedCommentId===this.props.permalinkedCommentId&&a.permalinkedReplyId===this.props.permalinkedReplyId&&b.replyPermalinkLastHideTime!==this.state.replyPermalinkLastHideTime,k=this.$8();h&&!a.commentWasReply&&(this.$5[0]&&this.$5[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}));d("WWWIGBatchDOM").measure(function(){var b=null;h&&!a.commentWasReply&&!g.props.hasRankedComments?b=e.scrollHeight:i!=null?b=e.scrollHeight-i:j&&f&&k&&(b=g.$11(e,f,k));d("WWWIGBatchDOM").mutate(function(){b!=null&&(e.scrollTop=b)})})};e.$11=function(a,b,c){c=n(c,a);b=n(b,a);var d=6;c=Math.max(c-d,b);return a.scrollTop>c?c:null};e.getSnapshotBeforeUpdate=function(a,b){b=a.comments;var c=this.props.comments,d=this.$1;return d&&a.id===this.props.id&&c.count()>b.count()&&!this.props.hasRankedComments?{newCommentCachedOffset:d.scrollHeight-d.scrollTop}:null};e.$12=function(){this.setState({replyPermalinkLastHideTime:new Date().valueOf()})};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.captionAndTitle,g=b.captionCreatedAt,h=b.captionIsEdited,n=b.className,p=b.code,q=b.comments,r=b.commentsDisabled,s=b.commentsHasNextPage,t=b.customPaddingStyle,u=b.disableScroll,v=b.hasRankedComments,w=b.hideUserAvatar,x=b.id,y=b.initialCommentsLoading,z=b.isOwnerVerified,A=b.loggedIn,B=b.mediaType,C=b.ownerId,D=b.permalinkedComment,E=b.permalinkedReplyId,F=b.postedAt,G=b.reducedAvatarMargin,H=b.showCommentOptionsInline,I=b.showIGTVCaption;b=b.showPagerBelowComments;s=r!==!0&&Boolean(s);y=y&&q.size===0;if((f==null||f==="")&&q.count()===0&&!s&&!y)if(d("WWWIGUA").isDesktop()&&c("qex")._("328"))return i.jsx("div",{className:n,children:i.jsx(c("WWWIGNoCommentsPlaceholder"),{})});else return i.jsx("div",{className:n});var J=null,K=null;!y&&r!=null&&(J=D?i.jsx("div",{className:"_9_bw"+(this.state.commentPermalinkAnimEnabled&&!E?" _9_bx":""),ref:this.$2,children:i.jsx(o,{isPermalinkedComment:!0,onHidePermalinkReply:function(){return a.$12()},parentComment:D,parentProps:this.props,parentState:this.state,permalinkedReplyId:E,permalinkedReplyNodeRef:this.$3,replyPagerNodeRef:this.$4})}):null,K=q.map(function(b,c){return D&&b.id===D.id?null:i.jsx(o,{innerRef:function(b){return a.$5[c]=b},parentComment:b,parentProps:a.props,parentState:a.state},c)}).filter(function(a){return!!a}));r=null;f!=null&&f!==""&&(r=i.jsx(c("WWWIGPostComment"),{analyticsContext:e,captionCreatedAt:g,className:(d("WWWIGUA").isMobile()?"_9_by":"")+" _9_bz",commentOwnerId:C,customPaddingStyle:t,hideUserAvatar:!!w,isAuthorVerified:!!z,isCaption:!0,isEdited:!!h,isRestrictedPending:!1,loggedIn:A,mediaType:B,postedAt:c("WWWIGnullthrows")(F),postId:x,postOwnerId:C,reducedAvatarMargin:G,showCommentOptionsInline:H,showIGTVCaption:I,showRemoveIcon:!1,showRichComment:!0,text:f,variant:d("WWWIGPostVariants").VARIANTS.flexible},"captionAndTitle"));E=function(a){a=a.index;return K==null?null:(a=K.get(a))!=null?a:null};q=s&&this.renderLoadMoreCommentsLink(J!=null);var L=d("WWWIGLinkBuilder").buildMediaCommentsLink(c("WWWIGnullthrows")(p),d("WWWIGUA").isMobile());g=d("WWWIGUA").isDesktop()&&A&&d("WWWIGpostModalHelpers").showCommentInfiniteScroll();w=v||b===!0||g;return i.jsx("div",{className:n,children:i.jsxs("ul",{className:"_9_b-"+(u?" _9_b_":"")+(J!==null?" _9_c0":"")+(r===null?" _9_c1":"")+(!q||w?" _9_c2":"")+(t==="compact"?" _9_c3":""),ref:function(b){return a.$1=b},children:[r,J,y?i.jsx(c("WWWIGIGCoreBox"),{direction:"row",justifyContent:"center",children:i.jsx(c("WWWIGIGCoreSpinner"),{})}):null,g&&K!=null?i.jsx(c("WWWIGGenericVirtualFeed"),{allowSampledScrollLogging:!1,analyticsContext:e,enablePrefetch:!1,enablePriorityFetching:!1,hasNextPage:(z=this.props.commentsHasNextPage)!=null?z:!1,initialRenderCount:j,isFetching:this.props.commentsIsFetching,items:K,nextPageThreshold:k,onNextPage:function(){a.$13(L)},overscanCount:l,prefetchNextPageThreshold:m,renderFeedItem:E,sizeCache:new(c("WWWIGSizeCache"))({estimatedSize:80}),visibleCount:K.size}):i.jsxs(i.Fragment,{children:[!w&&q,!d("WWWIGConfig").isNetzDGEligible()&&K,w&&q]})]})})};e.renderLoadMoreCommentsLink=function(a){var b=this.props,e=b.code,f=b.commentsIsFetching,g=b.hasRankedComments,h=b.loggedIn;b=b.onLoggedOutIntentClickLoginModal;e=d("WWWIGLinkBuilder").buildMediaCommentsLink(c("WWWIGnullthrows")(e),d("WWWIGUA").isMobile());var j;g?(g=0,j=0):a?(g=2,j=2):(g=0,j=4);return i.jsx("li",{children:i.jsx(c("WWWIGThreadedCommentsLoadMoreButton"),{commentsIsFetching:f,handleLoadMoreCommentsClick:this.$13,loggedIn:h,marginBottom:j,marginTop:g,onLoggedOutIntentClickLoginModal:b,url:e})})};return b}(i.PureComponent);function a(a,b){var c=b.id,e=b.ownerId;b=b.permalinkedCommentId;var f=d("WWWIGThreadedCommentSelectors").getThreadedCommentsLoading(a,c),g=d("WWWIGThreadedCommentSelectors").selectVisibleParentCommentsForPostId(a,c),h=a.threadedComments.parentByPostId.get(c,d("WWWIGcommentReducer").EMPTY_POST_COMMENTS_STATE),i=h.count;h=h.pagination;c=a.pendingComments.get(c,d("WWWIGPendingCommentState").EMPTY_PENDING_COMMENT);var j=null;!f&&b!=null&&b!==""&&(j=a.comments.byId.get(b));return{commentWasReply:c.repliedToCommentId!=null,commentSaveIsInFlight:c.committing,comments:g,commentsHasNextPage:d("WWWIGPaginationUtils").hasNextPage(h),commentsIsFetching:d("WWWIGPaginationUtils").isFetching(h),commentsTotalCount:i!=null?i:0,isOwnerVerified:d("WWWIGuserSelectors").getUserById(a,e).isVerified,initialCommentsLoading:f,numTimesLoadComment:a.threadedComments.numTimesLoadComment,permalinkedComment:j}}function b(a){return{addLoadCount:function(){a(d("WWWIGThreadedCommentActions").onIncreaseCommentLoadCount())},loadMore:function(b,c,e){d("WWWIGQEHelper").postUsesNativeEndpoint()?a(d("WWWIGThreadedCommentActions").requestNextParentCommentPageV2(b,c,e)):a(d("WWWIGThreadedCommentActions").requestNextParentCommentPage(b,c,e))},onClickCommentLoaded:function(b){b=d("WWWIGLinkBuilder").buildMediaLink(b);a(d("WWWIGNavigationActions").openLoginModal("content_wall",b,null,null,!0,b))},onLoggedOutIntentClickLoginModal:function(b,c){a(d("WWWIGNavigationActions").openLoginModal("feature_wall",b,c,null,!0,b))}}}f=d("react-redux-wwwig").connect(a,b)(e);g["default"]=f}),98);
__d("WWWIGPostComments",["WWWIGDeleteCommentModal","WWWIGPostRemoveCommentsSelectors","WWWIGPostVariants","WWWIGPreviewComments","WWWIGThreadedComments","WWWIGUA","WWWIGnullthrows","WWWIGuserSelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){var h=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={commentToDeleteId:null,showDeleteCommentModal:!1},c.$1=function(a){c.setState({commentToDeleteId:a,showDeleteCommentModal:!0})},c.$2=function(){c.setState({commentToDeleteId:null,showDeleteCommentModal:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$3=function(){var a=this.props,b=a.caption,c=a.showIGTVCaption;a=a.title;return c?[a,b].filter(Boolean).join("\n\n"):b};e.$4=function(){return this.props.variant!==d("WWWIGPostVariants").VARIANTS.feed&&!d("WWWIGUA").isMobile()};e.render=function(){var a=this.props,b=a.analyticsContext,d=a.captionCreatedAt,e=a.captionIsEdited,f=a.className,g=a.code,i=a.commentingDisabledForViewer,j=a.commentsAreStacked,k=a.commentsDisabled,l=a.customIndentationPadding,m=a.customPaddingStyle,n=a.hasRankedComments,o=a.hideUserAvatar,p=a.id,q=a.mediaType,r=a.onLikeCountClick,s=a.onLikeModalClose,t=a.ownerId,u=a.permalinkedCommentId,v=a.permalinkedReplyId,w=a.postedAt,x=a.reducedAvatarMargin,y=a.showCommentOptionsInline,z=a.showIGTVCaption,A=a.showRemoveCommentIcons,B=a.variant;a=a.viewerId;a=a!=null;return h.jsxs(h.Fragment,{children:[this.$4()?h.jsx(c("WWWIGThreadedComments"),{analyticsContext:b,captionAndTitle:this.$3(),captionCreatedAt:d,captionIsEdited:e,className:f,code:g,commentingDisabledForViewer:i,commentsDisabled:k,customIndentationPadding:l,customPaddingStyle:m,handleDeleteCommentClick:this.$1,hasRankedComments:n,hideUserAvatar:!!o,id:p,isDeletingComments:A,loggedIn:a,mediaType:q,onLikeCountClick:r,onLikeModalClose:s,ownerId:t,permalinkedCommentId:u,permalinkedReplyId:v,postedAt:w,reducedAvatarMargin:x,showCommentOptionsInline:y,showIGTVCaption:z}):h.jsx(c("WWWIGPreviewComments"),{captionAndTitle:this.$3(),captionIsEdited:e,className:f,code:g,commentsAreStacked:j,commentsDisabled:k,handleDeleteCommentClick:this.$1,id:p,loggedIn:a,mediaType:q,ownerId:t,postedAt:w,showIGTVCaption:z,showRemoveCommentIcons:A,variant:B}),this.state.showDeleteCommentModal&&h.jsx(c("WWWIGDeleteCommentModal"),{analyticsContext:b,commentId:c("WWWIGnullthrows")(this.state.commentToDeleteId),onClose:this.$2,postId:p})]})};return b}(h.PureComponent);b.defaultProps={variant:d("WWWIGPostVariants").VARIANTS.flexible};function a(a,b){return{showRemoveCommentIcons:d("WWWIGPostRemoveCommentsSelectors").getPostRemoveCommentsIsVisible(a),viewerId:(b=d("WWWIGuserSelectors").getViewer(a))==null?void 0:b.id}}e=d("react-redux-wwwig").connect(a)(b);g["default"]=e}),98);